"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/pages/admins/users-management/page",{

/***/ "(app-pages-browser)/./src/js/apiService.ts":
/*!******************************!*\
  !*** ./src/js/apiService.ts ***!
  \******************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   apiService: () => (/* binding */ apiService),\n/* harmony export */   createDepartment: () => (/* binding */ createDepartment),\n/* harmony export */   createPosition: () => (/* binding */ createPosition),\n/* harmony export */   createRank: () => (/* binding */ createRank),\n/* harmony export */   createUnit: () => (/* binding */ createUnit),\n/* harmony export */   createUser: () => (/* binding */ createUser),\n/* harmony export */   deleteDepartment: () => (/* binding */ deleteDepartment),\n/* harmony export */   deletePosition: () => (/* binding */ deletePosition),\n/* harmony export */   deleteRank: () => (/* binding */ deleteRank),\n/* harmony export */   deleteUnit: () => (/* binding */ deleteUnit),\n/* harmony export */   deleteUser: () => (/* binding */ deleteUser),\n/* harmony export */   exportAuditLogs: () => (/* binding */ exportAuditLogs),\n/* harmony export */   getAuditLogs: () => (/* binding */ getAuditLogs),\n/* harmony export */   getAuditStats: () => (/* binding */ getAuditStats),\n/* harmony export */   getDepartments: () => (/* binding */ getDepartments),\n/* harmony export */   getPositions: () => (/* binding */ getPositions),\n/* harmony export */   getRanks: () => (/* binding */ getRanks),\n/* harmony export */   getUnits: () => (/* binding */ getUnits),\n/* harmony export */   getUserActivity: () => (/* binding */ getUserActivity),\n/* harmony export */   getUsers: () => (/* binding */ getUsers),\n/* harmony export */   login: () => (/* binding */ login),\n/* harmony export */   updateDepartment: () => (/* binding */ updateDepartment),\n/* harmony export */   updatePosition: () => (/* binding */ updatePosition),\n/* harmony export */   updateRank: () => (/* binding */ updateRank),\n/* harmony export */   updateUnit: () => (/* binding */ updateUnit),\n/* harmony export */   updateUser: () => (/* binding */ updateUser)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"(app-pages-browser)/./node_modules/axios/lib/axios.js\");\n\n// Base URL cho API\nconst API_BASE_URL = 'http://localhost:5002/api';\nconst apiService = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json'\n    }\n});\n// Add request interceptor to include token in all requests\napiService.interceptors.request.use((config)=>{\n    const token = localStorage.getItem('token');\n    if (token) {\n        config.headers.Authorization = \"Bearer \".concat(token);\n    }\n    return config;\n}, (error)=>{\n    return Promise.reject(error);\n});\n// Add response interceptor to handle token expiration\napiService.interceptors.response.use((response)=>{\n    return response;\n}, (error)=>{\n    var _error_response;\n    if (((_error_response = error.response) === null || _error_response === void 0 ? void 0 : _error_response.status) === 401) {\n        // Token expired or invalid, clear local storage and redirect to login\n        localStorage.removeItem('token');\n        localStorage.removeItem('userData');\n        window.location.href = '/auth/signin';\n    }\n    return Promise.reject(error);\n});\nconst login = async (email, password)=>{\n    try {\n        const response = await apiService.post('/auth/login', {\n            email,\n            password\n        });\n        // Kiểm tra cấu trúc response từ backend\n        const responseData = response.data;\n        console.log('Login response:', responseData);\n        let token;\n        let user;\n        if (responseData.data && responseData.data.token) {\n            // Cấu trúc: { data: { token: \"...\", user: {...} } }\n            token = responseData.data.token;\n            user = responseData.data.user;\n        } else if (responseData.token) {\n            // Cấu trúc: { token: \"...\" }\n            token = responseData.token;\n            user = responseData.user;\n        } else {\n            throw new Error('Token not found in response');\n        }\n        localStorage.setItem('token', token);\n        // Lưu thông tin user vào localStorage\n        if (user) {\n            const userData = {\n                _id: user._id,\n                token: token,\n                role: user.role,\n                fullName: user.fullName,\n                username: user.username,\n                email: user.email,\n                department: user.department,\n                position: user.position,\n                phone: user.phone,\n                isActive: user.isActive,\n                lastLogin: user.lastLogin,\n                avatar: user.avatar\n            };\n            localStorage.setItem('userData', JSON.stringify(userData));\n        }\n        return {\n            token\n        };\n    } catch (error) {\n        var _error_response_data, _error_response;\n        console.error('Login error:', error);\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || error.message || 'Failed to login');\n    }\n};\nconst getUsers = async ()=>{\n    try {\n        const response = await apiService.get('/users');\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to fetch users');\n    }\n};\nconst updateUser = async (userId, user)=>{\n    try {\n        const response = await apiService.put(\"/users/\".concat(userId), user);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to update user');\n    }\n};\nconst createUser = async (user)=>{\n    try {\n        const response = await apiService.post('/users', user);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to create user');\n    }\n};\nconst deleteUser = async (userId)=>{\n    try {\n        await apiService.delete(\"/users/\".concat(userId));\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to delete user');\n    }\n};\nconst getRanks = async ()=>{\n    try {\n        const response = await apiService.get('/ranks');\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to fetch ranks');\n    }\n};\nconst createRank = async (rank)=>{\n    try {\n        const response = await apiService.post('/ranks', rank);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to create rank');\n    }\n};\nconst updateRank = async (rankId, rank)=>{\n    try {\n        const response = await apiService.put(\"/ranks/\".concat(rankId), rank);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to update rank');\n    }\n};\nconst deleteRank = async (rankId)=>{\n    try {\n        await apiService.delete(\"/ranks/\".concat(rankId));\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to delete rank');\n    }\n};\nconst getUnits = async ()=>{\n    try {\n        const response = await apiService.get('/units');\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to fetch units');\n    }\n};\nconst createUnit = async (unit)=>{\n    try {\n        const response = await apiService.post('/units', unit);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to create unit');\n    }\n};\nconst updateUnit = async (unitId, unit)=>{\n    try {\n        const response = await apiService.put(\"/units/\".concat(unitId), unit);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to update unit');\n    }\n};\nconst deleteUnit = async (unitId)=>{\n    try {\n        await apiService.delete(\"/units/\".concat(unitId));\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to delete unit');\n    }\n};\nconst getDepartments = async ()=>{\n    try {\n        const response = await apiService.get('/departments');\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to fetch departments');\n    }\n};\nconst createDepartment = async (department)=>{\n    try {\n        const response = await apiService.post('/departments', department);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to create department');\n    }\n};\nconst updateDepartment = async (departmentId, department)=>{\n    try {\n        const response = await apiService.put(\"/departments/\".concat(departmentId), department);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to update department');\n    }\n};\nconst deleteDepartment = async (departmentId)=>{\n    try {\n        await apiService.delete(\"/departments/\".concat(departmentId));\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to delete department');\n    }\n};\nconst getPositions = async ()=>{\n    try {\n        const response = await apiService.get('/positions');\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to fetch positions');\n    }\n};\nconst createPosition = async (position)=>{\n    try {\n        const response = await apiService.post('/positions', position);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to create position');\n    }\n};\nconst updatePosition = async (positionId, position)=>{\n    try {\n        const response = await apiService.put(\"/positions/\".concat(positionId), position);\n        return response.data;\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to update position');\n    }\n};\nconst deletePosition = async (positionId)=>{\n    try {\n        await apiService.delete(\"/positions/\".concat(positionId));\n    } catch (error) {\n        var _error_response_data, _error_response;\n        throw new Error(((_error_response = error.response) === null || _error_response === void 0 ? void 0 : (_error_response_data = _error_response.data) === null || _error_response_data === void 0 ? void 0 : _error_response_data.message) || 'Failed to delete position');\n    }\n};\nconst getAuditLogs = async function() {\n    let filters = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n    try {\n        const queryParams = new URLSearchParams();\n        Object.entries(filters).forEach((param)=>{\n            let [key, value] = param;\n            if (value !== undefined && value !== null && value !== '') {\n                queryParams.append(key, value.toString());\n            }\n        });\n        const response = await apiService.get(\"/audit-logs?\".concat(queryParams));\n        return response.data.data;\n    } catch (error) {\n        console.error('Error fetching audit logs:', error);\n        throw error;\n    }\n};\nconst getAuditStats = async function() {\n    let days = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 30;\n    try {\n        const response = await apiService.get(\"/audit-logs/stats?days=\".concat(days));\n        return response.data.data;\n    } catch (error) {\n        console.error('Error fetching audit stats:', error);\n        throw error;\n    }\n};\nconst getUserActivity = async function(userId) {\n    let days = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 30;\n    try {\n        const response = await apiService.get(\"/audit-logs/user/\".concat(userId, \"?days=\").concat(days));\n        return response.data.data;\n    } catch (error) {\n        console.error('Error fetching user activity:', error);\n        throw error;\n    }\n};\nconst exportAuditLogs = async (filters)=>{\n    try {\n        const response = await apiService.post('/audit-logs/export', filters);\n        return response.data;\n    } catch (error) {\n        console.error('Error exporting audit logs:', error);\n        throw error;\n    }\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9qcy9hcGlTZXJ2aWNlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2QztBQUc3QyxtQkFBbUI7QUFDbkIsTUFBTUMsZUFBZTtBQUVkLE1BQU1DLGFBQTRCRiw2Q0FBS0EsQ0FBQ0csTUFBTSxDQUFDO0lBQ2xEQyxTQUFTSDtJQUNUSSxTQUFTO1FBQ0wsZ0JBQWdCO0lBQ3BCO0FBQ0osR0FBRztBQUVILDJEQUEyRDtBQUMzREgsV0FBV0ksWUFBWSxDQUFDQyxPQUFPLENBQUNDLEdBQUcsQ0FDL0IsQ0FBQ0M7SUFDRyxNQUFNQyxRQUFRQyxhQUFhQyxPQUFPLENBQUM7SUFDbkMsSUFBSUYsT0FBTztRQUNQRCxPQUFPSixPQUFPLENBQUNRLGFBQWEsR0FBRyxVQUFnQixPQUFOSDtJQUM3QztJQUNBLE9BQU9EO0FBQ1gsR0FDQSxDQUFDSztJQUNHLE9BQU9DLFFBQVFDLE1BQU0sQ0FBQ0Y7QUFDMUI7QUFHSixzREFBc0Q7QUFDdERaLFdBQVdJLFlBQVksQ0FBQ1csUUFBUSxDQUFDVCxHQUFHLENBQ2hDLENBQUNTO0lBQ0csT0FBT0E7QUFDWCxHQUNBLENBQUNIO1FBQ09BO0lBQUosSUFBSUEsRUFBQUEsa0JBQUFBLE1BQU1HLFFBQVEsY0FBZEgsc0NBQUFBLGdCQUFnQkksTUFBTSxNQUFLLEtBQUs7UUFDaEMsc0VBQXNFO1FBQ3RFUCxhQUFhUSxVQUFVLENBQUM7UUFDeEJSLGFBQWFRLFVBQVUsQ0FBQztRQUN4QkMsT0FBT0MsUUFBUSxDQUFDQyxJQUFJLEdBQUc7SUFDM0I7SUFDQSxPQUFPUCxRQUFRQyxNQUFNLENBQUNGO0FBQzFCO0FBeUJHLE1BQU1TLFFBQVEsT0FBT0MsT0FBZUM7SUFDdkMsSUFBSTtRQUNBLE1BQU1SLFdBQVcsTUFBTWYsV0FBV3dCLElBQUksQ0FBQyxlQUFlO1lBQUVGO1lBQU9DO1FBQVM7UUFFeEUsd0NBQXdDO1FBQ3hDLE1BQU1FLGVBQWVWLFNBQVNX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T0FBT2Q7SUFDbEMsSUFBSTtRQUNBLE1BQU05RCxXQUFXLE1BQU1mLFdBQVd3QixJQUFJLENBQUMsc0JBQXNCcUQ7UUFFN0QsT0FBTzlELFNBQVNXLElBQUk7SUFDeEIsRUFBRSxPQUFPZCxPQUFPO1FBQ1plLFFBQVFmLEtBQUssQ0FBQywrQkFBK0JBO1FBQzdDLE1BQU1BO0lBQ1Y7QUFDSixFQUFFIiwic291cmNlcyI6WyIvVm9sdW1lcy9LSU5HL1BNcXVhbmx5c29zYWNoL1BoLW4tbS1tLXF1LW4tbC1zLXMtY2gvZnJvbnRlbmQvc3JjL2pzL2FwaVNlcnZpY2UudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zLCB7IEF4aW9zSW5zdGFuY2UgfSBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBqd3REZWNvZGUgfSBmcm9tICdqd3QtZGVjb2RlJztcbmltcG9ydCB7IEp3dFBheWxvYWQgfSBmcm9tICcuL0p3dFBheWxvYWQnO1xuLy8gQmFzZSBVUkwgY2hvIEFQSVxuY29uc3QgQVBJX0JBU0VfVVJMID0gJ2h0dHA6Ly9sb2NhbGhvc3Q6NTAwMi9hcGknO1xuXG5leHBvcnQgY29uc3QgYXBpU2VydmljZTogQXhpb3NJbnN0YW5jZSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgYmFzZVVSTDogQVBJX0JBU0VfVVJMLFxuICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICB9XG59KTtcblxuLy8gQWRkIHJlcXVlc3QgaW50ZXJjZXB0b3IgdG8gaW5jbHVkZSB0b2tlbiBpbiBhbGwgcmVxdWVzdHNcbmFwaVNlcnZpY2UuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxuICAgIChjb25maWcpID0+IHtcbiAgICAgICAgY29uc3QgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKTtcbiAgICAgICAgaWYgKHRva2VuKSB7XG4gICAgICAgICAgICBjb25maWcuaGVhZGVycy5BdXRob3JpemF0aW9uID0gYEJlYXJlciAke3Rva2VufWA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbmZpZztcbiAgICB9LFxuICAgIChlcnJvcikgPT4ge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH1cbik7XG5cbi8vIEFkZCByZXNwb25zZSBpbnRlcmNlcHRvciB0byBoYW5kbGUgdG9rZW4gZXhwaXJhdGlvblxuYXBpU2VydmljZS5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKFxuICAgIChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfSxcbiAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgaWYgKGVycm9yLnJlc3BvbnNlPy5zdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgICAgLy8gVG9rZW4gZXhwaXJlZCBvciBpbnZhbGlkLCBjbGVhciBsb2NhbCBzdG9yYWdlIGFuZCByZWRpcmVjdCB0byBsb2dpblxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlckRhdGEnKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9hdXRoL3NpZ25pbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4pO1xuXG5leHBvcnQgaW50ZXJmYWNlIExvZ2luUmVzcG9uc2Uge1xuICAgIHRva2VuOiBzdHJpbmc7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgVXNlciB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHVzZXJuYW1lOiBzdHJpbmc7XG4gICAgcm9sZTogc3RyaW5nO1xuICAgIHJhbms/OiBzdHJpbmc7XG4gICAgdW5pdD86IHN0cmluZztcbiAgICBkZXBhcnRtZW50Pzogc3RyaW5nO1xuICAgIHBvc2l0aW9uPzogc3RyaW5nO1xuICAgIGR1dHk/OiBzdHJpbmc7XG4gICAgcGhvbmU/OiBzdHJpbmc7XG4gICAgcGFzc3dvcmQ/OiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBsb2dpbiA9IGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxMb2dpblJlc3BvbnNlPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnBvc3QoJy9hdXRoL2xvZ2luJywgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgICAgIFxuICAgICAgICAvLyBLaeG7g20gdHJhIGPhuqV1IHRyw7pjIHJlc3BvbnNlIHThu6sgYmFja2VuZFxuICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZygnTG9naW4gcmVzcG9uc2U6JywgcmVzcG9uc2VEYXRhKTtcbiAgICAgICAgXG4gICAgICAgIGxldCB0b2tlbjogc3RyaW5nO1xuICAgICAgICBsZXQgdXNlcjogYW55O1xuICAgICAgICBcbiAgICAgICAgaWYgKHJlc3BvbnNlRGF0YS5kYXRhICYmIHJlc3BvbnNlRGF0YS5kYXRhLnRva2VuKSB7XG4gICAgICAgICAgICAvLyBD4bqldSB0csO6YzogeyBkYXRhOiB7IHRva2VuOiBcIi4uLlwiLCB1c2VyOiB7Li4ufSB9IH1cbiAgICAgICAgICAgIHRva2VuID0gcmVzcG9uc2VEYXRhLmRhdGEudG9rZW47XG4gICAgICAgICAgICB1c2VyID0gcmVzcG9uc2VEYXRhLmRhdGEudXNlcjtcbiAgICAgICAgfSBlbHNlIGlmIChyZXNwb25zZURhdGEudG9rZW4pIHtcbiAgICAgICAgICAgIC8vIEPhuqV1IHRyw7pjOiB7IHRva2VuOiBcIi4uLlwiIH1cbiAgICAgICAgICAgIHRva2VuID0gcmVzcG9uc2VEYXRhLnRva2VuO1xuICAgICAgICAgICAgdXNlciA9IHJlc3BvbnNlRGF0YS51c2VyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUb2tlbiBub3QgZm91bmQgaW4gcmVzcG9uc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgdG9rZW4pO1xuICAgICAgICBcbiAgICAgICAgLy8gTMawdSB0aMO0bmcgdGluIHVzZXIgdsOgbyBsb2NhbFN0b3JhZ2VcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJEYXRhID0ge1xuICAgICAgICAgICAgICAgIF9pZDogdXNlci5faWQsXG4gICAgICAgICAgICAgICAgdG9rZW46IHRva2VuLFxuICAgICAgICAgICAgICAgIHJvbGU6IHVzZXIucm9sZSxcbiAgICAgICAgICAgICAgICBmdWxsTmFtZTogdXNlci5mdWxsTmFtZSxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgICAgICAgICBkZXBhcnRtZW50OiB1c2VyLmRlcGFydG1lbnQsXG4gICAgICAgICAgICAgICAgcG9zaXRpb246IHVzZXIucG9zaXRpb24sXG4gICAgICAgICAgICAgICAgcGhvbmU6IHVzZXIucGhvbmUsXG4gICAgICAgICAgICAgICAgaXNBY3RpdmU6IHVzZXIuaXNBY3RpdmUsXG4gICAgICAgICAgICAgICAgbGFzdExvZ2luOiB1c2VyLmxhc3RMb2dpbixcbiAgICAgICAgICAgICAgICBhdmF0YXI6IHVzZXIuYXZhdGFyXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXJEYXRhJywgSlNPTi5zdHJpbmdpZnkodXNlckRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHsgdG9rZW4gfTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8IGVycm9yLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2dpbicpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VycyA9IGFzeW5jICgpOiBQcm9taXNlPHtkYXRhOiBVc2VyW119PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLmdldDx7ZGF0YTogVXNlcltdfT4oJy91c2VycycpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHVzZXJzJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZywgdXNlcjogUGFydGlhbDxVc2VyPik6IFByb21pc2U8e2RhdGE6IHt1c2VyOiBVc2VyfX0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UucHV0PHtkYXRhOiB7dXNlcjogVXNlcn19PihgL3VzZXJzLyR7dXNlcklkfWAsIHVzZXIpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSB1c2VyJyk7XG4gICAgfVxufVxuXG5leHBvcnQgY29uc3QgY3JlYXRlVXNlciA9IGFzeW5jICh1c2VyOiBQYXJ0aWFsPFVzZXI+KTogUHJvbWlzZTx7ZGF0YToge3VzZXI6IFVzZXJ9fT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpU2VydmljZS5wb3N0PHtkYXRhOiB7dXNlcjogVXNlcn19PignL3VzZXJzJywgdXNlcik7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHVzZXInKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZGVsZXRlVXNlciA9IGFzeW5jICh1c2VySWQ6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGFwaVNlcnZpY2UuZGVsZXRlKGAvdXNlcnMvJHt1c2VySWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgdXNlcicpO1xuICAgIH1cbn07XG5cbi8vIFJhbmsgaW50ZXJmYWNlcyBhbmQgZnVuY3Rpb25zXG5leHBvcnQgaW50ZXJmYWNlIFJhbmsge1xuICAgIF9pZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsZXZlbDogbnVtYmVyO1xuICAgIGNhdGVnb3J5OiAnRW5saXN0ZWQnIHwgJ05DTycgfCAnT2ZmaWNlcicgfCAnR2VuZXJhbCc7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRSYW5rcyA9IGFzeW5jICgpOiBQcm9taXNlPHtkYXRhOiBSYW5rW119PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLmdldDx7ZGF0YTogUmFua1tdfT4oJy9yYW5rcycpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHJhbmtzJyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVJhbmsgPSBhc3luYyAocmFuazogUGFydGlhbDxSYW5rPik6IFByb21pc2U8e2RhdGE6IHtyYW5rOiBSYW5rfX0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UucG9zdDx7ZGF0YToge3Jhbms6IFJhbmt9fT4oJy9yYW5rcycsIHJhbmspO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSByYW5rJyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVJhbmsgPSBhc3luYyAocmFua0lkOiBzdHJpbmcsIHJhbms6IFBhcnRpYWw8UmFuaz4pOiBQcm9taXNlPHtkYXRhOiB7cmFuazogUmFua319PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnB1dDx7ZGF0YToge3Jhbms6IFJhbmt9fT4oYC9yYW5rcy8ke3JhbmtJZH1gLCByYW5rKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgcmFuaycpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVSYW5rID0gYXN5bmMgKHJhbmtJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpU2VydmljZS5kZWxldGUoYC9yYW5rcy8ke3JhbmtJZH1gKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSByYW5rJyk7XG4gICAgfVxufTtcblxuLy8gVW5pdCBpbnRlcmZhY2VzIGFuZCBmdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgVW5pdCB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvZGU6IHN0cmluZztcbiAgICB0eXBlOiAnVGnhu4N1IMSR4buZaScgfCAnVHJ1bmcgxJHhu5lpJyB8ICfEkOG6oWkgxJHhu5lpJyB8ICdUaeG7g3UgxJFvw6BuJyB8ICdUcnVuZyDEkW/DoG4nIHwgJ0zhu68gxJFvw6BuJyB8ICdTxrAgxJFvw6BuJyB8ICdRdcOibiDEkW/DoG4nIHwgJ1F1w6JuIGtodSc7XG4gICAgcGFyZW50VW5pdD86IHtcbiAgICAgICAgX2lkOiBzdHJpbmc7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgY29kZTogc3RyaW5nO1xuICAgICAgICB0eXBlOiBzdHJpbmc7XG4gICAgfTtcbiAgICBjb21tYW5kZXI/OiB7XG4gICAgICAgIF9pZDogc3RyaW5nO1xuICAgICAgICBmdWxsTmFtZTogc3RyaW5nO1xuICAgICAgICByYW5rOiB7XG4gICAgICAgICAgICBuYW1lOiBzdHJpbmc7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBsb2NhdGlvbj86IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBpc0FjdGl2ZTogYm9vbGVhbjtcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICB1cGRhdGVkQXQ6IHN0cmluZztcbn1cblxuLy8gSW50ZXJmYWNlIGZvciBjcmVhdGluZy91cGRhdGluZyB1bml0cyAoQVBJIGV4cGVjdHMgcGFyZW50VW5pdCBhcyBzdHJpbmcgSUQpXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVVwZGF0ZVVuaXQge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBjb2RlOiBzdHJpbmc7XG4gICAgdHlwZTogJ1Rp4buDdSDEkeG7mWknIHwgJ1RydW5nIMSR4buZaScgfCAnxJDhuqFpIMSR4buZaScgfCAnVGnhu4N1IMSRb8OgbicgfCAnVHJ1bmcgxJFvw6BuJyB8ICdM4buvIMSRb8OgbicgfCAnU8awIMSRb8OgbicgfCAnUXXDom4gxJFvw6BuJyB8ICdRdcOibiBraHUnO1xuICAgIHBhcmVudFVuaXQ/OiBzdHJpbmc7XG4gICAgbG9jYXRpb24/OiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRVbml0cyA9IGFzeW5jICgpOiBQcm9taXNlPHtkYXRhOiBVbml0W119PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLmdldDx7ZGF0YTogVW5pdFtdfT4oJy91bml0cycpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHVuaXRzJyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZVVuaXQgPSBhc3luYyAodW5pdDogQ3JlYXRlVXBkYXRlVW5pdCk6IFByb21pc2U8e2RhdGE6IHt1bml0OiBVbml0fX0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UucG9zdDx7ZGF0YToge3VuaXQ6IFVuaXR9fT4oJy91bml0cycsIHVuaXQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSB1bml0Jyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVVuaXQgPSBhc3luYyAodW5pdElkOiBzdHJpbmcsIHVuaXQ6IENyZWF0ZVVwZGF0ZVVuaXQpOiBQcm9taXNlPHtkYXRhOiB7dW5pdDogVW5pdH19PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnB1dDx7ZGF0YToge3VuaXQ6IFVuaXR9fT4oYC91bml0cy8ke3VuaXRJZH1gLCB1bml0KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgdW5pdCcpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVVbml0ID0gYXN5bmMgKHVuaXRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpU2VydmljZS5kZWxldGUoYC91bml0cy8ke3VuaXRJZH1gKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSB1bml0Jyk7XG4gICAgfVxufTtcblxuLy8gRGVwYXJ0bWVudCBpbnRlcmZhY2VzIGFuZCBmdW5jdGlvbnNcbmV4cG9ydCBpbnRlcmZhY2UgRGVwYXJ0bWVudCB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGNvZGU6IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbj86IHN0cmluZztcbiAgICBoZWFkPzoge1xuICAgICAgICBfaWQ6IHN0cmluZztcbiAgICAgICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICAgICAgcmFuazoge1xuICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgcmVzcG9uc2liaWxpdGllczogc3RyaW5nW107XG4gICAgaXNBY3RpdmU6IGJvb2xlYW47XG4gICAgY3JlYXRlZEF0OiBzdHJpbmc7XG4gICAgdXBkYXRlZEF0OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXREZXBhcnRtZW50cyA9IGFzeW5jICgpOiBQcm9taXNlPHtkYXRhOiBEZXBhcnRtZW50W119PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLmdldDx7ZGF0YTogRGVwYXJ0bWVudFtdfT4oJy9kZXBhcnRtZW50cycpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIGRlcGFydG1lbnRzJyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZURlcGFydG1lbnQgPSBhc3luYyAoZGVwYXJ0bWVudDogUGFydGlhbDxEZXBhcnRtZW50Pik6IFByb21pc2U8e2RhdGE6IHtkZXBhcnRtZW50OiBEZXBhcnRtZW50fX0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UucG9zdDx7ZGF0YToge2RlcGFydG1lbnQ6IERlcGFydG1lbnR9fT4oJy9kZXBhcnRtZW50cycsIGRlcGFydG1lbnQpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGNyZWF0ZSBkZXBhcnRtZW50Jyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZURlcGFydG1lbnQgPSBhc3luYyAoZGVwYXJ0bWVudElkOiBzdHJpbmcsIGRlcGFydG1lbnQ6IFBhcnRpYWw8RGVwYXJ0bWVudD4pOiBQcm9taXNlPHtkYXRhOiB7ZGVwYXJ0bWVudDogRGVwYXJ0bWVudH19PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnB1dDx7ZGF0YToge2RlcGFydG1lbnQ6IERlcGFydG1lbnR9fT4oYC9kZXBhcnRtZW50cy8ke2RlcGFydG1lbnRJZH1gLCBkZXBhcnRtZW50KTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byB1cGRhdGUgZGVwYXJ0bWVudCcpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVEZXBhcnRtZW50ID0gYXN5bmMgKGRlcGFydG1lbnRJZDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgYXBpU2VydmljZS5kZWxldGUoYC9kZXBhcnRtZW50cy8ke2RlcGFydG1lbnRJZH1gKTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGRlbGV0ZSBkZXBhcnRtZW50Jyk7XG4gICAgfVxufTtcblxuLy8gUG9zaXRpb24gaW50ZXJmYWNlcyBhbmQgZnVuY3Rpb25zXG5leHBvcnQgaW50ZXJmYWNlIFBvc2l0aW9uIHtcbiAgICBfaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY29kZTogc3RyaW5nO1xuICAgIGRlcGFydG1lbnQ6IHtcbiAgICAgICAgX2lkOiBzdHJpbmc7XG4gICAgICAgIG5hbWU6IHN0cmluZztcbiAgICAgICAgY29kZTogc3RyaW5nO1xuICAgIH07XG4gICAgbGV2ZWw6ICdKdW5pb3InIHwgJ1NlbmlvcicgfCAnTWFuYWdlbWVudCcgfCAnRXhlY3V0aXZlJztcbiAgICByZXF1aXJlbWVudHM6IHtcbiAgICAgICAgbWluUmFuaz86IHtcbiAgICAgICAgICAgIF9pZDogc3RyaW5nO1xuICAgICAgICAgICAgbmFtZTogc3RyaW5nO1xuICAgICAgICAgICAgbGV2ZWw6IG51bWJlcjtcbiAgICAgICAgfTtcbiAgICAgICAgZXhwZXJpZW5jZT86IG51bWJlcjtcbiAgICB9O1xuICAgIHJlc3BvbnNpYmlsaXRpZXM6IHN0cmluZ1tdO1xuICAgIGRlc2NyaXB0aW9uPzogc3RyaW5nO1xuICAgIGlzQWN0aXZlOiBib29sZWFuO1xuICAgIGNyZWF0ZWRBdDogc3RyaW5nO1xuICAgIHVwZGF0ZWRBdDogc3RyaW5nO1xufVxuXG4vLyBJbnRlcmZhY2UgZm9yIGNyZWF0aW5nL3VwZGF0aW5nIHBvc2l0aW9ucyAoQVBJIGV4cGVjdHMgZGVwYXJ0bWVudCBhcyBzdHJpbmcgSUQpXG5leHBvcnQgaW50ZXJmYWNlIENyZWF0ZVVwZGF0ZVBvc2l0aW9uIHtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgY29kZTogc3RyaW5nO1xuICAgIGRlcGFydG1lbnQ6IHN0cmluZztcbiAgICBsZXZlbDogJ0p1bmlvcicgfCAnU2VuaW9yJyB8ICdNYW5hZ2VtZW50JyB8ICdFeGVjdXRpdmUnO1xuICAgIHJlcXVpcmVtZW50czoge1xuICAgICAgICBtaW5SYW5rPzogc3RyaW5nO1xuICAgICAgICBleHBlcmllbmNlPzogbnVtYmVyO1xuICAgIH07XG4gICAgcmVzcG9uc2liaWxpdGllczogc3RyaW5nW107XG4gICAgZGVzY3JpcHRpb24/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRQb3NpdGlvbnMgPSBhc3luYyAoKTogUHJvbWlzZTx7ZGF0YTogUG9zaXRpb25bXX0+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UuZ2V0PHtkYXRhOiBQb3NpdGlvbltdfT4oJy9wb3NpdGlvbnMnKTtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBmZXRjaCBwb3NpdGlvbnMnKTtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgY3JlYXRlUG9zaXRpb24gPSBhc3luYyAocG9zaXRpb246IENyZWF0ZVVwZGF0ZVBvc2l0aW9uKTogUHJvbWlzZTx7ZGF0YToge3Bvc2l0aW9uOiBQb3NpdGlvbn19PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnBvc3Q8e2RhdGE6IHtwb3NpdGlvbjogUG9zaXRpb259fT4oJy9wb3NpdGlvbnMnLCBwb3NpdGlvbik7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yLnJlc3BvbnNlPy5kYXRhPy5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gY3JlYXRlIHBvc2l0aW9uJyk7XG4gICAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZVBvc2l0aW9uID0gYXN5bmMgKHBvc2l0aW9uSWQ6IHN0cmluZywgcG9zaXRpb246IENyZWF0ZVVwZGF0ZVBvc2l0aW9uKTogUHJvbWlzZTx7ZGF0YToge3Bvc2l0aW9uOiBQb3NpdGlvbn19PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnB1dDx7ZGF0YToge3Bvc2l0aW9uOiBQb3NpdGlvbn19PihgL3Bvc2l0aW9ucy8ke3Bvc2l0aW9uSWR9YCwgcG9zaXRpb24pO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5yZXNwb25zZT8uZGF0YT8ubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHVwZGF0ZSBwb3NpdGlvbicpO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBkZWxldGVQb3NpdGlvbiA9IGFzeW5jIChwb3NpdGlvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBhcGlTZXJ2aWNlLmRlbGV0ZShgL3Bvc2l0aW9ucy8ke3Bvc2l0aW9uSWR9YCk7XG4gICAgfSBjYXRjaCAoZXJyb3I6IGFueSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2U/LmRhdGE/Lm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBkZWxldGUgcG9zaXRpb24nKTtcbiAgICB9XG59O1xuXG4vLyBBdWRpdCBMb2dzIEFQSVxuZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZyB7XG4gICAgX2lkOiBzdHJpbmc7XG4gICAgdXNlcjoge1xuICAgICAgICBfaWQ6IHN0cmluZztcbiAgICAgICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICAgICAgZW1haWw6IHN0cmluZztcbiAgICAgICAgcm9sZTogc3RyaW5nO1xuICAgIH07XG4gICAgdXNlckluZm86IHtcbiAgICAgICAgZnVsbE5hbWU6IHN0cmluZztcbiAgICAgICAgZW1haWw6IHN0cmluZztcbiAgICAgICAgcm9sZTogc3RyaW5nO1xuICAgICAgICBkZXBhcnRtZW50Pzogc3RyaW5nO1xuICAgICAgICB1bml0Pzogc3RyaW5nO1xuICAgIH07XG4gICAgYWN0aW9uOiBzdHJpbmc7XG4gICAgcmVzb3VyY2U6IHN0cmluZztcbiAgICByZXNvdXJjZUlkPzogc3RyaW5nO1xuICAgIHJlc291cmNlTmFtZT86IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICAgIG9sZERhdGE/OiBhbnk7XG4gICAgbmV3RGF0YT86IGFueTtcbiAgICBpcEFkZHJlc3M6IHN0cmluZztcbiAgICB1c2VyQWdlbnQ6IHN0cmluZztcbiAgICBzdGF0dXM6ICdTVUNDRVNTJyB8ICdGQUlMRUQnIHwgJ1BFTkRJTkcnO1xuICAgIGVycm9yTWVzc2FnZT86IHN0cmluZztcbiAgICBleGVjdXRpb25UaW1lOiBudW1iZXI7XG4gICAgbWV0YWRhdGE6IHtcbiAgICAgICAgbWV0aG9kOiBzdHJpbmc7XG4gICAgICAgIHVybDogc3RyaW5nO1xuICAgICAgICBzdGF0dXNDb2RlOiBudW1iZXI7XG4gICAgfTtcbiAgICBjcmVhdGVkQXQ6IHN0cmluZztcbiAgICB1cGRhdGVkQXQ6IHN0cmluZztcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZ3NSZXNwb25zZSB7XG4gICAgbG9nczogQXVkaXRMb2dbXTtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBsaW1pdDogbnVtYmVyO1xuICAgIHRvdGFsUGFnZXM6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZ3NGaWx0ZXJzIHtcbiAgICBwYWdlPzogbnVtYmVyO1xuICAgIGxpbWl0PzogbnVtYmVyO1xuICAgIHVzZXI/OiBzdHJpbmc7XG4gICAgYWN0aW9uPzogc3RyaW5nO1xuICAgIHJlc291cmNlPzogc3RyaW5nO1xuICAgIHN0YXR1cz86IHN0cmluZztcbiAgICBzdGFydERhdGU/OiBzdHJpbmc7XG4gICAgZW5kRGF0ZT86IHN0cmluZztcbiAgICBzZWFyY2g/OiBzdHJpbmc7XG59XG5cbmV4cG9ydCBjb25zdCBnZXRBdWRpdExvZ3MgPSBhc3luYyAoZmlsdGVyczogQXVkaXRMb2dzRmlsdGVycyA9IHt9KTogUHJvbWlzZTxBdWRpdExvZ3NSZXNwb25zZT4gPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgICAgICBPYmplY3QuZW50cmllcyhmaWx0ZXJzKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkICYmIHZhbHVlICE9PSBudWxsICYmIHZhbHVlICE9PSAnJykge1xuICAgICAgICAgICAgICAgIHF1ZXJ5UGFyYW1zLmFwcGVuZChrZXksIHZhbHVlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UuZ2V0KGAvYXVkaXQtbG9ncz8ke3F1ZXJ5UGFyYW1zfWApO1xuXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYXVkaXQgbG9nczonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRTdGF0cyB7XG4gICAgdG90YWxMb2dzOiBudW1iZXI7XG4gICAgbG9nc0J5QWN0aW9uOiBBcnJheTx7IGFjdGlvbjogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+O1xuICAgIGxvZ3NCeVJlc291cmNlOiBBcnJheTx7IHJlc291cmNlOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfT47XG4gICAgbG9nc0J5U3RhdHVzOiBBcnJheTx7IHN0YXR1czogc3RyaW5nOyBjb3VudDogbnVtYmVyIH0+O1xuICAgIGxvZ3NCeURheTogQXJyYXk8eyBkYXRlOiBzdHJpbmc7IGNvdW50OiBudW1iZXIgfT47XG4gICAgdG9wVXNlcnM6IEFycmF5PHsgdXNlcjogeyBmdWxsTmFtZTogc3RyaW5nOyBlbWFpbDogc3RyaW5nIH07IGNvdW50OiBudW1iZXIgfT47XG59XG5cbmV4cG9ydCBjb25zdCBnZXRBdWRpdFN0YXRzID0gYXN5bmMgKGRheXM6IG51bWJlciA9IDMwKTogUHJvbWlzZTxBdWRpdFN0YXRzPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLmdldChgL2F1ZGl0LWxvZ3Mvc3RhdHM/ZGF5cz0ke2RheXN9YCk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGEuZGF0YTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBhdWRpdCBzdGF0czonLCBlcnJvcik7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn07XG5cbmV4cG9ydCBjb25zdCBnZXRVc2VyQWN0aXZpdHkgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGRheXM6IG51bWJlciA9IDMwKTogUHJvbWlzZTxhbnk+ID0+IHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaVNlcnZpY2UuZ2V0KGAvYXVkaXQtbG9ncy91c2VyLyR7dXNlcklkfT9kYXlzPSR7ZGF5c31gKTtcblxuICAgICAgICByZXR1cm4gcmVzcG9uc2UuZGF0YS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIHVzZXIgYWN0aXZpdHk6JywgZXJyb3IpO1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG59O1xuXG5leHBvcnQgY29uc3QgZXhwb3J0QXVkaXRMb2dzID0gYXN5bmMgKGZpbHRlcnM6IGFueSk6IFByb21pc2U8YW55PiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlTZXJ2aWNlLnBvc3QoJy9hdWRpdC1sb2dzL2V4cG9ydCcsIGZpbHRlcnMpO1xuXG4gICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGV4cG9ydGluZyBhdWRpdCBsb2dzOicsIGVycm9yKTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxufTsiXSwibmFtZXMiOlsiYXhpb3MiLCJBUElfQkFTRV9VUkwiLCJhcGlTZXJ2aWNlIiwiY3JlYXRlIiwiYmFzZVVSTCIsImhlYWRlcnMiLCJpbnRlcmNlcHRvcnMiLCJyZXF1ZXN0IiwidXNlIiwiY29uZmlnIiwidG9rZW4iLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiQXV0aG9yaXphdGlvbiIsImVycm9yIiwiUHJvbWlzZSIsInJlamVjdCIsInJlc3BvbnNlIiwic3RhdHVzIiwicmVtb3ZlSXRlbSIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInBvc3QiLCJyZXNwb25zZURhdGEiLCJkYXRhIiwiY29uc29sZSIsImxvZyIsInVzZXIiLCJFcnJvciIsInNldEl0ZW0iLCJ1c2VyRGF0YSIsIl9pZCIsInJvbGUiLCJmdWxsTmFtZSIsInVzZXJuYW1lIiwiZGVwYXJ0bWVudCIsInBvc2l0aW9uIiwicGhvbmUiLCJpc0FjdGl2ZSIsImxhc3RMb2dpbiIsImF2YXRhciIsIkpTT04iLCJzdHJpbmdpZnkiLCJtZXNzYWdlIiwiZ2V0VXNlcnMiLCJnZXQiLCJ1cGRhdGVVc2VyIiwidXNlcklkIiwicHV0IiwiY3JlYXRlVXNlciIsImRlbGV0ZVVzZXIiLCJkZWxldGUiLCJnZXRSYW5rcyIsImNyZWF0ZVJhbmsiLCJyYW5rIiwidXBkYXRlUmFuayIsInJhbmtJZCIsImRlbGV0ZVJhbmsiLCJnZXRVbml0cyIsImNyZWF0ZVVuaXQiLCJ1bml0IiwidXBkYXRlVW5pdCIsInVuaXRJZCIsImRlbGV0ZVVuaXQiLCJnZXREZXBhcnRtZW50cyIsImNyZWF0ZURlcGFydG1lbnQiLCJ1cGRhdGVEZXBhcnRtZW50IiwiZGVwYXJ0bWVudElkIiwiZGVsZXRlRGVwYXJ0bWVudCIsImdldFBvc2l0aW9ucyIsImNyZWF0ZVBvc2l0aW9uIiwidXBkYXRlUG9zaXRpb24iLCJwb3NpdGlvbklkIiwiZGVsZXRlUG9zaXRpb24iLCJnZXRBdWRpdExvZ3MiLCJmaWx0ZXJzIiwicXVlcnlQYXJhbXMiLCJVUkxTZWFyY2hQYXJhbXMiLCJPYmplY3QiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImtleSIsInZhbHVlIiwidW5kZWZpbmVkIiwiYXBwZW5kIiwidG9TdHJpbmciLCJnZXRBdWRpdFN0YXRzIiwiZGF5cyIsImdldFVzZXJBY3Rpdml0eSIsImV4cG9ydEF1ZGl0TG9ncyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/js/apiService.ts\n"));

/***/ })

});